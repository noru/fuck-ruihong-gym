<!DOCTYPE html>
<html>

<head>
  <title>Fuck Gym</title>
  <link href="./style.css" rel="stylesheet" />
  <script src="./helper.js"></script>
</head>

<body>
  <div id="screenshot">
    <img src="./background.jpg" />
    <span id="mask"></span>
  </div>
  <div id="record" class="hide">
    <img src="./background2.jpg" />
    <span id="mask2"></span>
  </div>

  <input id="input" />
  <script>
    let screenshot = document.getElementById('screenshot')
    let record = document.getElementById('record')
    screenshot.addEventListener('click', toggle)
    record.addEventListener('click', toggle)

    function initScreenshot() {
      let mask = document.getElementById('mask')
      let input = document.getElementById('input')
      input.value = mask.innerHTML = window.__getDateStr()
      input.addEventListener('input', e => {
        mask.innerHTML = e.target.value
      })
    }
    function initRecord() {
      let mask = document.getElementById('mask2')
      let input = document.getElementById('input')
      input.value = mask.innerHTML = window.__getDateStr()
      input.addEventListener('input', e => {
        mask.innerHTML = e.target.value
      })
    }
    function toggle() {
      if (screenshot.classList.contains('hide')) {
        screenshot.classList.remove('hide')
        record.classList.add('hide')
        initScreenshot()
      } else if (record.classList.contains('hide')) {
        record.classList.remove('hide')
        screenshot.classList.add('hide')
        initRecord()
      }
    }
  </script>
</body>

</html>